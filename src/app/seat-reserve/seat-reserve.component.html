<div class="title">
  <h1>Reserve Movie Seat</h1>
</div>

<div class="container">
  <main class="innerContainer">
    <!-- Showing a static legend bar -->
    <div class="legend">
      <div><mat-icon>event_seat</mat-icon> <span> FREE</span></div>
      <span><mat-icon class="vip-seat-icon">event_busy</mat-icon> VIP SEATS</span>
      <span><mat-icon class="taken-seat-icon">event_busy</mat-icon> TAKEN</span>
      <span><mat-icon class="select-seat-icon">check_circle_outline</mat-icon>SELECTED</span>
    </div>

    <hr style="border: 10px solid gray; margin: 40px;">
    <div class="movie-seats">
      <div *ngFor="let row of rows" style="margin-top:2%">
        <span class="seat" *ngFor="let col of cols" (click)="seatClicked(row + col)" [ngSwitch]="getStatus(row + col)"
          style="margin-left:2%">
          <span *ngSwitchDefault class="free-seat"> <mat-icon>event_seat</mat-icon> </span>
          <span *ngSwitchCase="'vip-seats'"><mat-icon class="vip-seat-icon">event_busy</mat-icon></span>
          <span *ngSwitchCase="'taken'"><mat-icon class="taken-seat-icon">event_busy</mat-icon></span>
          <span *ngSwitchCase="'selected'"><mat-icon class="select-seat-icon">check_circle_outline</mat-icon> </span>
        </span>
      </div>
    </div>
    <div *ngIf="errorMessage" class="error-container">
      <span class="error-message"> Error: {{errorMessage}} </span>
      <button mat-raised-button color="primary" style="display: block; margin: auto;"
        (click)="clearErrors()">OK</button>
    </div>

    <div *ngIf="!errorMessage && selected.length" class="error-container">
      <h4>Seats selected are:</h4>
      <h5 *ngFor="let select of selected">{{select}}</h5>
      <button mat-raised-button color="accent" style="display: block; margin: auto;"
        (click)="openDialog()">Confirm</button>
    </div>
  </main>
</div>
